{"ast":null,"code":"var _jsxFileName = \"/home/lucjan/go/src/github.com/GrzegorzCzaprowski/beer_mail/frontend/src/includes/Header.js\";\nimport React from 'react';\nimport logo from '../img/logo.jpg';\nimport Auth from './Auth';\n\nclass Header extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.logout = e => {\n      localStorage.clear();\n      window.location.href = '/login';\n    };\n\n    this.state = {\n      name: '',\n      admin: 0\n    };\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:8000/user/', {\n      method: \"GET\",\n      headers: new Headers({\n        'Authorization': \"Bearer \" + localStorage.getItem('token')\n      })\n    }).then(response => response.json()).then(data => {\n      if (data.status == \"succes\") {\n        this.setState({\n          name: data.data.name,\n          admin: data.data.isadmin\n        });\n      } else {\n        console.log(data.data);\n      }\n    }).catch(function (error) {\n      console.log('Request failed', error);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(Auth, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }), React.createElement(\"nav\", {\n      className: \"navbar navbar-expand-lg navbar-light bg-light fixed-top\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"navbar-brand\",\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: logo,\n      height: \"50\",\n      width: \"50\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }), \"BeerMail\"), React.createElement(\"button\", {\n      className: \"navbar-toggler\",\n      \"data-target\": \"#my-nav\",\n      \"data-toggle\": \"collapse\",\n      \"aria-controls\": \"my-nav\",\n      \"aria-expanded\": \"false\",\n      \"aria-label\": \"Toggle navigation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"navbar-toggler-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      id: \"my-nav\",\n      className: \"collapse navbar-collapse\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"navbar-nav mr-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"nav-item active\",\n      style: {\n        display: this.state.admin ? 'block' : 'none'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"nav-link\",\n      href: \"/admin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Admin\", React.createElement(\"span\", {\n      className: \"sr-only\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"(current)\"))), React.createElement(\"li\", {\n      className: \"nav-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"nav-link disabled\",\n      href: \"#\",\n      tabIndex: \"-1\",\n      \"aria-disabled\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Item 2\"))), React.createElement(\"span\", {\n      className: \"navbar-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"navbar-nav mr-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"nav-item active\",\n      onClick: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"nav-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, this.state.name)), React.createElement(\"li\", {\n      className: \"nav-item active\",\n      onClick: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nexport default Header;","map":{"version":3,"sources":["/home/lucjan/go/src/github.com/GrzegorzCzaprowski/beer_mail/frontend/src/includes/Header.js"],"names":["React","logo","Auth","Header","Component","constructor","props","logout","e","localStorage","clear","window","location","href","state","name","admin","componentDidMount","fetch","method","headers","Headers","getItem","then","response","json","data","status","setState","isadmin","console","log","catch","error","render","display"],"mappings":"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","sourcesContent":["import React from 'react';\nimport logo from '../img/logo.jpg';\nimport Auth from './Auth';\n\nclass Header extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: '',\n            admin: 0\n        };\n    }\n    componentDidMount() {\n        fetch('http://localhost:8000/user/', {\n            method: \"GET\",\n            headers: new Headers({\n                'Authorization' : \"Bearer \" + localStorage.getItem('token')\n            })\n\n        })\n        .then(response => response.json())\n        .then(data => {\n            if(data.status == \"succes\"){\n                this.setState({\n                    name: data.data.name,\n                    admin: data.data.isadmin\n                })\n            }else {\n                console.log(data.data)\n            }\n        })\n        .catch(function(error) {\n            console.log('Request failed', error)\n        });\n     }\n\n    logout = (e) => {\n        localStorage.clear();\n        window.location.href = '/login';\n    }\n\n    render() {\n        return (\n            <div>\n                <Auth></Auth>\n                <nav className=\"navbar navbar-expand-lg navbar-light bg-light fixed-top\">\n                    \n                    <a className=\"navbar-brand\" href=\"/\"><img src={logo} height=\"50\" width=\"50\"/>BeerMail</a>\n                    <button className=\"navbar-toggler\" data-target=\"#my-nav\" data-toggle=\"collapse\" aria-controls=\"my-nav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                        <span className=\"navbar-toggler-icon\"></span>\n                    </button>\n                    <div id=\"my-nav\" className=\"collapse navbar-collapse\">\n                        <ul className=\"navbar-nav mr-auto\">\n                        <li className=\"nav-item active\" style={{display: this.state.admin ? 'block': 'none'}}>\n                            <a className=\"nav-link\" href=\"/admin\">Admin<span className=\"sr-only\">(current)</span></a>\n                        </li>\n                        <li className=\"nav-item\">\n                            <a className=\"nav-link disabled\" href=\"#\" tabIndex=\"-1\" aria-disabled=\"true\">Item 2</a>\n                        </li>\n                        </ul>\n                        <span className=\"navbar-text\">\n                            \n                            <ul className=\"navbar-nav mr-auto\">\n                                <li className=\"nav-item active\" onClick={this.logout}>\n                                    <a className=\"nav-link\" >{this.state.name}</a>\n                                </li>\n                                <li className=\"nav-item active\" onClick={this.logout}>\n                                    \n                                </li>\n                            </ul>\n                        </span>\n                    </div>\n                </nav>\n            </div>\n        );\n    }\n\n}\n\nexport default Header;"]},"metadata":{},"sourceType":"module"}