{"ast":null,"code":"var _jsxFileName = \"/home/lucjan/go/src/github.com/GrzegorzCzaprowski/beer_mail/frontend/src/includes/Header.js\";\nimport React from 'react';\nimport logo from '../img/logo.jpg';\nimport Auth from './Auth';\n\nclass Header extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getUserData = e => {\n      fetch('http://localhost:8000/user/', {\n        method: \"GET\",\n        headers: {\n          'Authorization': \"Bearer \" + localStorage('token')\n        }\n      }).then(response => response.json()).then(data => {\n        if (data.status == \"succes\") {\n          this.setState({\n            name: data.name,\n            admin: data.isadmin\n          });\n        } else {\n          console.log(data.data);\n        }\n      }).catch(function (error) {\n        console.log('Request failed', error);\n      });\n    };\n\n    this.logout = e => {\n      localStorage.clear();\n      window.location.href = '/login';\n    };\n\n    this.state = {\n      name: '',\n      admin: 0\n    };\n  }\n\n  render() {\n    this.getUserData();\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(Auth, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }), React.createElement(\"nav\", {\n      className: \"navbar navbar-expand-lg navbar-light bg-light fixed-top\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"navbar-brand\",\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: logo,\n      height: \"50\",\n      width: \"50\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }), \"BeerMail\"), React.createElement(\"button\", {\n      className: \"navbar-toggler\",\n      \"data-target\": \"#my-nav\",\n      \"data-toggle\": \"collapse\",\n      \"aria-controls\": \"my-nav\",\n      \"aria-expanded\": \"false\",\n      \"aria-label\": \"Toggle navigation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"navbar-toggler-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      id: \"my-nav\",\n      className: \"collapse navbar-collapse\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"navbar-nav mr-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"nav-item active\",\n      style: {\n        display: this.state.admin ? 'block' : 'none'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"nav-link\",\n      href: \"/admin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Admin\", React.createElement(\"span\", {\n      className: \"sr-only\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"(current)\"))), React.createElement(\"li\", {\n      className: \"nav-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"nav-link disabled\",\n      href: \"#\",\n      tabIndex: \"-1\",\n      \"aria-disabled\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Item 2\"))), React.createElement(\"span\", {\n      className: \"navbar-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, this.state.name, React.createElement(\"ul\", {\n      className: \"navbar-nav mr-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"nav-item active\",\n      onClick: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"nav-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Wyloguj\")))))));\n  }\n\n}\n\nexport default Header;","map":{"version":3,"sources":["/home/lucjan/go/src/github.com/GrzegorzCzaprowski/beer_mail/frontend/src/includes/Header.js"],"names":["React","logo","Auth","Header","Component","constructor","props","getUserData","e","fetch","method","headers","localStorage","then","response","json","data","status","setState","name","admin","isadmin","console","log","catch","error","logout","clear","window","location","href","state","render","display"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,iBAAjB;AACA,OAAOC,IAAP,MAAiB,QAAjB;;AAEA,MAAMC,MAAN,SAAqBH,KAAK,CAACI,SAA3B,CAAqC;AACjCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAQnBC,WARmB,GAQJC,CAAD,IAAO;AACjBC,MAAAA,KAAK,CAAC,6BAAD,EAAgC;AACjCC,QAAAA,MAAM,EAAE,KADyB;AAEjCC,QAAAA,OAAO,EAAE;AACL,2BAAkB,YAAYC,YAAY,CAAC,OAAD;AADrC;AAFwB,OAAhC,CAAL,CAOCC,IAPD,CAOMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAPlB,EAQCF,IARD,CAQMG,IAAI,IAAI;AACV,YAAGA,IAAI,CAACC,MAAL,IAAe,QAAlB,EAA2B;AACvB,eAAKC,QAAL,CAAc;AACVC,YAAAA,IAAI,EAAEH,IAAI,CAACG,IADD;AAEVC,YAAAA,KAAK,EAAEJ,IAAI,CAACK;AAFF,WAAd;AAIH,SALD,MAKM;AACFC,UAAAA,OAAO,CAACC,GAAR,CAAYP,IAAI,CAACA,IAAjB;AACH;AAEJ,OAlBD,EAmBCQ,KAnBD,CAmBO,UAASC,KAAT,EAAgB;AACnBH,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BE,KAA9B;AACH,OArBD;AAsBH,KA/BkB;;AAAA,SAiCnBC,MAjCmB,GAiCTlB,CAAD,IAAO;AACZI,MAAAA,YAAY,CAACe,KAAb;AACAC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,QAAvB;AACH,KApCkB;;AAEf,SAAKC,KAAL,GAAa;AACTZ,MAAAA,IAAI,EAAE,EADG;AAETC,MAAAA,KAAK,EAAE;AAFE,KAAb;AAIH;;AAgCDY,EAAAA,MAAM,GAAG;AACL,SAAKzB,WAAL;AACA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAK,MAAA,SAAS,EAAC,yDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI;AAAG,MAAA,SAAS,EAAC,cAAb;AAA4B,MAAA,IAAI,EAAC,GAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAqC;AAAK,MAAA,GAAG,EAAEN,IAAV;AAAgB,MAAA,MAAM,EAAC,IAAvB;AAA4B,MAAA,KAAK,EAAC,IAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAArC,aAFJ,EAGI;AAAQ,MAAA,SAAS,EAAC,gBAAlB;AAAmC,qBAAY,SAA/C;AAAyD,qBAAY,UAArE;AAAgF,uBAAc,QAA9F;AAAuG,uBAAc,OAArH;AAA6H,oBAAW,mBAAxI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,SAAS,EAAC,qBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAHJ,EAMI;AAAK,MAAA,EAAE,EAAC,QAAR;AAAiB,MAAA,SAAS,EAAC,0BAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,SAAS,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAI,MAAA,SAAS,EAAC,iBAAd;AAAgC,MAAA,KAAK,EAAE;AAACgC,QAAAA,OAAO,EAAE,KAAKF,KAAL,CAAWX,KAAX,GAAmB,OAAnB,GAA4B;AAAtC,OAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAG,MAAA,SAAS,EAAC,UAAb;AAAwB,MAAA,IAAI,EAAC,QAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAA2C;AAAM,MAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAA3C,CADJ,CADA,EAIA;AAAI,MAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAG,MAAA,SAAS,EAAC,mBAAb;AAAiC,MAAA,IAAI,EAAC,GAAtC;AAA0C,MAAA,QAAQ,EAAC,IAAnD;AAAwD,uBAAc,MAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,CAJA,CADJ,EASI;AAAM,MAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKW,KAAL,CAAWZ,IADhB,EAEI;AAAI,MAAA,SAAS,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,SAAS,EAAC,iBAAd;AAAgC,MAAA,OAAO,EAAE,KAAKO,MAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAG,MAAA,SAAS,EAAC,UAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,CADJ,CAFJ,CATJ,CANJ,CAFJ,CADJ;AA8BH;;AAvEgC;;AA2ErC,eAAevB,MAAf","sourcesContent":["import React from 'react';\nimport logo from '../img/logo.jpg';\nimport Auth from './Auth';\n\nclass Header extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: '',\n            admin: 0\n        };\n    }\n    \n    getUserData = (e) => {\n        fetch('http://localhost:8000/user/', {\n            method: \"GET\",\n            headers: {\n                'Authorization' : \"Bearer \" + localStorage('token'),\n            }\n\n        })\n        .then(response => response.json())\n        .then(data => {\n            if(data.status == \"succes\"){\n                this.setState({\n                    name: data.name,\n                    admin: data.isadmin\n                })\n            }else {\n                console.log(data.data)\n            }\n\n        })\n        .catch(function(error) {\n            console.log('Request failed', error)\n        });\n    }\n\n    logout = (e) => {\n        localStorage.clear();\n        window.location.href = '/login';\n    }\n\n    render() {\n        this.getUserData()\n        return (\n            <div>\n                <Auth></Auth>\n                <nav className=\"navbar navbar-expand-lg navbar-light bg-light fixed-top\">\n                    \n                    <a className=\"navbar-brand\" href=\"/\"><img src={logo} height=\"50\" width=\"50\"/>BeerMail</a>\n                    <button className=\"navbar-toggler\" data-target=\"#my-nav\" data-toggle=\"collapse\" aria-controls=\"my-nav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                        <span className=\"navbar-toggler-icon\"></span>\n                    </button>\n                    <div id=\"my-nav\" className=\"collapse navbar-collapse\">\n                        <ul className=\"navbar-nav mr-auto\">\n                        <li className=\"nav-item active\" style={{display: this.state.admin ? 'block': 'none'}}>\n                            <a className=\"nav-link\" href=\"/admin\">Admin<span className=\"sr-only\">(current)</span></a>\n                        </li>\n                        <li className=\"nav-item\">\n                            <a className=\"nav-link disabled\" href=\"#\" tabIndex=\"-1\" aria-disabled=\"true\">Item 2</a>\n                        </li>\n                        </ul>\n                        <span className=\"navbar-text\">\n                            {this.state.name}\n                            <ul className=\"navbar-nav mr-auto\">\n                                <li className=\"nav-item active\" onClick={this.logout}>\n                                    <a className=\"nav-link\" >Wyloguj</a>\n                                </li>\n                            </ul>\n                        </span>\n                    </div>\n                </nav>\n            </div>\n        );\n    }\n\n}\n\nexport default Header;"]},"metadata":{},"sourceType":"module"}